# Структура проекта USDX/Wexel

## Обзор архитектуры

Платформа построена как монорепозиторий с четким разделением ответственности между компонентами.

## Директории

### `/apps/` - Приложения

#### `webapp/` - Основное веб-приложение

- **Технологии**: Next.js 14, TypeScript, Tailwind CSS, shadcn/ui
- **Назначение**: Пользовательский интерфейс для депозитов, управления векселями, маркетплейса
- **Структура**:
  - `src/app/` - App Router страницы
  - `src/components/` - React компоненты
  - `src/lib/` - Утилиты и конфигурация
  - `src/hooks/` - Custom React hooks
  - `src/types/` - TypeScript типы

#### `indexer/` - Бэкенд и индексер

- **Технологии**: NestJS, PostgreSQL, Redis, Prisma
- **Назначение**: API, индексация блокчейн событий, бизнес-логика
- **Структура**:
  - `src/modules/` - NestJS модули
  - `src/common/` - Общие утилиты и декораторы
  - `src/database/` - Prisma схема и миграции
  - `src/blockchain/` - Интеграция с блокчейнами

#### `admin-app/` - Админ-панель

- **Технологии**: Next.js, TypeScript, Ant Design
- **Назначение**: Управление платформой, мониторинг, настройки
- **Структура**:
  - `src/app/admin/` - Админские страницы
  - `src/components/admin/` - Админские компоненты

### `/packages/` - Общие пакеты

#### `shared/` - Общие типы и утилиты

- **Назначение**: Переиспользуемые типы, константы, утилиты
- **Экспорты**: API типы, константы, валидаторы

#### `solana-sdk/` - Solana интеграция

- **Назначение**: Работа с Solana блокчейном
- **Функции**: RPC клиент, транзакции, программы

#### `tron-sdk/` - Tron интеграция

- **Назначение**: Работа с Tron блокчейном
- **Функции**: TronWeb клиент, TRC-20/TRC-721 операции

### `/contracts/` - Смарт-контракты

#### `solana/` - Anchor контракты

- **Структура**:
  - `programs/` - Anchor программы
  - `tests/` - Тесты контрактов
  - `migrations/` - Скрипты деплоя

#### `tron/` - TVM контракты

- **Структура**:
  - `contracts/` - Solidity контракты
  - `tests/` - Тесты контрактов
  - `deploy/` - Скрипты деплоя

### `/infra/` - Инфраструктура

#### `local/` - Локальная разработка

- **Файлы**: `docker-compose.yml` для PostgreSQL и Redis

#### `monitoring/` - Мониторинг

- **Файлы**: Prometheus, Grafana конфигурации

### `/docs/` - Документация

#### `adr/` - Architecture Decision Records

- **Назначение**: Фиксация архитектурных решений

#### `api/` - API документация

- **Файлы**: OpenAPI спецификации

### `/design/` - Дизайн

#### `concepts/` - Концепции

- **Файлы**: Moodboard, цветовая палитра, типографика

#### `figma/` - Figma файлы

- **Ссылки**: UI Kit, макеты страниц

## Принципы организации

1. **Монорепозиторий**: Все связанные проекты в одном репозитории
2. **Четкое разделение**: Каждый пакет имеет свою ответственность
3. **Переиспользование**: Общие компоненты в `/packages/`
4. **Типизация**: Строгая типизация TypeScript везде
5. **Тестирование**: Тесты на всех уровнях
6. **Документация**: Подробная документация для каждого компонента

## Workflow разработки

1. **Feature branch**: Создание ветки от `tusd`
2. **Разработка**: Изменения в соответствующих пакетах
3. **Тестирование**: Локальные тесты + CI
4. **Code review**: Pull request в `tusd`
5. **Merge**: После одобрения в `tusd`
6. **Deploy**: Автоматический деплой после merge в `main`
