# USDX/Wexel Platform - Staging Environment Configuration
# This file contains staging-specific environment variables
# Copy this to .env.staging and fill in the values

# ========================================
# GENERAL
# ========================================
NODE_ENV=staging
LOG_LEVEL=debug
API_PORT=3001

# ========================================
# DATABASE
# ========================================
POSTGRES_DB=usdx_staging
POSTGRES_USER=usdx_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
DATABASE_URL=postgresql://usdx_user:CHANGE_ME_STRONG_PASSWORD_HERE@postgres:5432/usdx_staging?schema=public

# ========================================
# REDIS
# ========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_URL=redis://:CHANGE_ME_REDIS_PASSWORD@redis:6379

# ========================================
# JWT & AUTH
# ========================================
# CRITICAL: Use strong, unique secrets (minimum 64 characters)
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_64
ADMIN_JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_64
JWT_EXPIRATION=1h
REFRESH_TOKEN_EXPIRATION=7d

# ========================================
# CORS
# ========================================
CORS_ALLOWED_ORIGINS=https://staging.usdx-wexel.com,http://localhost:3000

# ========================================
# SOLANA
# ========================================
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_NETWORK=devnet
SOLANA_COMMITMENT=confirmed

# Program addresses (deploy contracts first)
SOLANA_WEXEL_PROGRAM_ID=
SOLANA_LIQUIDITY_POOL_PROGRAM_ID=
SOLANA_COLLATERAL_PROGRAM_ID=
SOLANA_ORACLE_PROGRAM_ID=
SOLANA_MARKETPLACE_PROGRAM_ID=
SOLANA_BOOST_MINT_ADDRESS=

# ========================================
# TRON
# ========================================
TRON_GRID_API_KEY=YOUR_TRONGRID_API_KEY_HERE
TRON_NETWORK=nile
TRON_DEPOSIT_VAULT_ADDRESS=
TRON_PRICE_FEED_ADDRESS=
TRON_BRIDGE_PROXY_ADDRESS=
TRON_WEXEL721_ADDRESS=
TRON_USDT_ADDRESS=TXYZopYRdj2D9XRtbG411XZZ3kM5VkAeBf
TRON_INDEXER_AUTO_START=true

# Private keys for deployment (keep secure!)
TRON_PRIVATE_KEY_NILE=

# ========================================
# ORACLES & PRICING
# ========================================
PYTH_PRICE_FEED_ID=
CHAINLINK_PRICE_FEED_ADDRESS=
CEX_API_KEY=
PRICE_UPDATE_INTERVAL_MS=60000

# ========================================
# MONITORING & LOGGING
# ========================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=staging
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus
METRICS_ENABLED=true
METRICS_PORT=9090

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_TTL=60000
RATE_LIMIT_MAX=100
RATE_LIMIT_PUBLIC_TTL=60000
RATE_LIMIT_PUBLIC_MAX=50
RATE_LIMIT_AUTHENTICATED_TTL=60000
RATE_LIMIT_AUTHENTICATED_MAX=200

# ========================================
# FRONTEND (Next.js)
# ========================================
NEXT_PUBLIC_API_URL=https://api-staging.usdx-wexel.com
NEXT_PUBLIC_SOLANA_NETWORK=devnet
NEXT_PUBLIC_TRON_NETWORK=nile
NEXT_PUBLIC_ENVIRONMENT=staging

# ========================================
# EMAIL (Optional)
# ========================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@staging.usdx-wexel.com

# ========================================
# ADMIN PANEL
# ========================================
ADMIN_DEFAULT_EMAIL=admin@staging.usdx-wexel.com
ADMIN_DEFAULT_PASSWORD=CHANGE_ME_ON_FIRST_LOGIN

# ========================================
# BACKUP & RESTORE
# ========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=us-east-1

# ========================================
# FEATURE FLAGS
# ========================================
FEATURE_MARKETPLACE_ENABLED=true
FEATURE_COLLATERAL_LOANS_ENABLED=true
FEATURE_TRON_DEPOSITS_ENABLED=true
FEATURE_ADMIN_PANEL_ENABLED=true

# ========================================
# SECURITY
# ========================================
HELMET_ENABLED=true
RATE_LIMITING_ENABLED=true
REQUEST_SIZE_LIMIT=10mb
